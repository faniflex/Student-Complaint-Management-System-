<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AASTU Student Complaint Management System</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* CSS Reset and Base Styles */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        :root {
            --primary-blue: #1A56DB;
            --secondary-blue: #3B82F6;
            --accent-green: #10B981;
            --accent-red: #EF4444;
            --accent-yellow: #F59E0B;
            --dark-gray: #1F2937;
            --medium-gray: #6B7280;
            --light-gray: #F3F4F6;
            --white: #FFFFFF;
            --shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --radius: 8px;
            --transition: all 0.3s ease;
        }

        body {
            background-color: #f5f7fb;
            color: var(--dark-gray);
            line-height: 1.6;
        }

        /* Container and Layout */
        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Sidebar Navigation */
        .sidebar {
            width: 260px;
            background: var(--white);
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            z-index: 100;
            transition: var(--transition);
        }

        .sidebar-header {
            padding: 24px 20px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .logo {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 20px;
        }

        .logo-text {
            font-weight: 700;
            font-size: 18px;
            color: var(--primary-blue);
        }

        .sidebar-nav {
            flex: 1;
            padding: 20px 0;
        }

        .nav-item {
            display: flex;
            align-items: center;
            padding: 14px 20px;
            color: var(--medium-gray);
            text-decoration: none;
            transition: var(--transition);
            border-left: 3px solid transparent;
        }

        .nav-item:hover, .nav-item.active {
            background-color: rgba(26, 86, 219, 0.05);
            color: var(--primary-blue);
            border-left-color: var(--primary-blue);
        }

        .nav-icon {
            margin-right: 12px;
            width: 20px;
            text-align: center;
        }

        .nav-text {
            font-weight: 500;
        }

        .user-profile {
            padding: 20px;
            border-top: 1px solid var(--light-gray);
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .user-info h4 {
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 2px;
        }

        .user-info p {
            font-size: 12px;
            color: var(--medium-gray);
        }

        /* Main Content Area */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .top-bar {
            background: var(--white);
            padding: 16px 24px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: var(--shadow);
            z-index: 10;
        }

        .page-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--dark-gray);
        }

        .top-actions {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .notification-badge {
            position: relative;
            cursor: pointer;
            font-size: 20px;
            color: var(--medium-gray);
        }

        .badge-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background-color: var(--accent-red);
            color: white;
            font-size: 12px;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Dashboard Content */
        .content {
            flex: 1;
            padding: 24px;
            overflow-y: auto;
        }

        /* Stats Cards */
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(240px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: var(--white);
            border-radius: var(--radius);
            padding: 24px;
            box-shadow: var(--shadow);
            transition: var(--transition);
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 12px;
        }

        .stat-title {
            font-size: 14px;
            color: var(--medium-gray);
            font-weight: 500;
        }

        .stat-icon {
            width: 48px;
            height: 48px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
        }

        .icon-new { background-color: var(--primary-blue); }
        .icon-active { background-color: var(--accent-yellow); }
        .icon-pending { background-color: var(--accent-red); }
        .icon-resolved { background-color: var(--accent-green); }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 4px;
        }

        .stat-change {
            font-size: 14px;
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .positive { color: var(--accent-green); }
        .negative { color: var(--accent-red); }

        /* Complaint Cards */
        .section-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-title {
            font-size: 20px;
            font-weight: 700;
        }

        .btn {
            padding: 10px 20px;
            border-radius: var(--radius);
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--primary-blue);
            color: white;
        }

        .btn-primary:hover {
            background-color: #1e40af;
        }

        .complaints-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }

        .complaint-card {
            background: var(--white);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
            border-left: 4px solid var(--primary-blue);
            transition: var(--transition);
            cursor: pointer;
        }

        .complaint-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        .complaint-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 12px;
        }

        .complaint-id {
            font-weight: 600;
            color: var(--primary-blue);
            font-size: 14px;
        }

        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-new { background-color: rgba(26, 86, 219, 0.1); color: var(--primary-blue); }
        .status-in-review { background-color: rgba(245, 158, 11, 0.1); color: var(--accent-yellow); }
        .status-resolved { background-color: rgba(16, 185, 129, 0.1); color: var(--accent-green); }
        .status-closed { background-color: rgba(107, 114, 128, 0.1); color: var(--medium-gray); }

        .complaint-title {
            font-size: 18px;
            font-weight: 600;
            margin-bottom: 8px;
        }

        .complaint-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
            margin-bottom: 16px;
            font-size: 14px;
            color: var(--medium-gray);
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 4px;
        }

        .complaint-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 16px;
            border-top: 1px solid var(--light-gray);
        }

        .priority {
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .priority-high { background-color: rgba(239, 68, 68, 0.1); color: var(--accent-red); }
        .priority-medium { background-color: rgba(245, 158, 11, 0.1); color: var(--accent-yellow); }
        .priority-low { background-color: rgba(16, 185, 129, 0.1); color: var(--accent-green); }

        /* Complaint Detail Modal */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            display: none;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            padding: 20px;
        }

        .modal {
            background: var(--white);
            border-radius: var(--radius);
            width: 100%;
            max-width: 900px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .modal-header {
            padding: 24px;
            border-bottom: 1px solid var(--light-gray);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-title {
            font-size: 24px;
            font-weight: 700;
        }

        .close-modal {
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--medium-gray);
        }

        .modal-body {
            padding: 24px;
        }

        /* Timeline */
        .timeline {
            position: relative;
            padding-left: 30px;
            margin-bottom: 30px;
        }

        .timeline::before {
            content: '';
            position: absolute;
            left: 10px;
            top: 0;
            bottom: 0;
            width: 2px;
            background-color: var(--light-gray);
        }

        .timeline-item {
            position: relative;
            margin-bottom: 20px;
        }

        .timeline-dot {
            position: absolute;
            left: -25px;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: var(--primary-blue);
            border: 3px solid var(--white);
        }

        .timeline-content {
            background: var(--light-gray);
            padding: 16px;
            border-radius: var(--radius);
        }

        .timeline-date {
            font-size: 12px;
            color: var(--medium-gray);
            margin-bottom: 4px;
        }

        .timeline-text {
            font-weight: 500;
        }

        /* Responsive Design */
        @media (max-width: 1024px) {
            .sidebar {
                width: 80px;
            }
            .logo-text, .nav-text, .user-info {
                display: none;
            }
            .nav-item {
                justify-content: center;
                padding: 16px;
            }
            .nav-icon {
                margin-right: 0;
                font-size: 20px;
            }
        }

        @media (max-width: 768px) {
            .container {
                flex-direction: column;
            }
            .sidebar {
                width: 100%;
                flex-direction: row;
                padding: 0 16px;
            }
            .sidebar-header {
                border-bottom: none;
                border-right: 1px solid var(--light-gray);
                padding: 16px;
            }
            .sidebar-nav {
                display: flex;
                padding: 0;
            }
            .nav-item {
                padding: 16px 20px;
                border-left: none;
                border-bottom: 3px solid transparent;
            }
            .nav-item:hover, .nav-item.active {
                border-left: none;
                border-bottom-color: var(--primary-blue);
            }
            .user-profile {
                border-top: none;
                border-left: 1px solid var(--light-gray);
                margin-left: auto;
                padding: 0 16px;
            }
            .stats-container {
                grid-template-columns: repeat(2, 1fr);
            }
            .complaints-container {
                grid-template-columns: 1fr;
            }
        }

        @media (max-width: 576px) {
            .stats-container {
                grid-template-columns: 1fr;
            }
            .top-bar {
                flex-direction: column;
                gap: 16px;
                align-items: flex-start;
            }
            .top-actions {
                align-self: flex-end;
            }
            .section-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 12px;
            }
        }

        /* Tab Navigation */
        .tab-nav {
            display: flex;
            border-bottom: 1px solid var(--light-gray);
            margin-bottom: 24px;
        }

        .tab-btn {
            padding: 12px 24px;
            background: none;
            border: none;
            font-weight: 600;
            color: var(--medium-gray);
            cursor: pointer;
            position: relative;
            transition: var(--transition);
        }

        .tab-btn:hover {
            color: var(--primary-blue);
        }

        .tab-btn.active {
            color: var(--primary-blue);
        }

        .tab-btn.active::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 0;
            width: 100%;
            height: 3px;
            background-color: var(--primary-blue);
            border-radius: 3px 3px 0 0;
        }

        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Kanban Board */
        .kanban-board {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }

        .kanban-column {
            background: var(--white);
            border-radius: var(--radius);
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .column-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 16px;
            padding-bottom: 12px;
            border-bottom: 1px solid var(--light-gray);
        }

        .column-title {
            font-weight: 600;
            font-size: 18px;
        }

        .column-count {
            background-color: var(--light-gray);
            color: var(--medium-gray);
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
            font-weight: 600;
        }

        /* Login Page */
        .login-container {
            display: flex;
            min-height: 100vh;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }

        .login-card {
            background: var(--white);
            border-radius: var(--radius);
            padding: 40px;
            width: 100%;
            max-width: 450px;
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
        }

        .login-header {
            text-align: center;
            margin-bottom: 32px;
        }

        .login-logo {
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary-blue), var(--secondary-blue));
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: 24px;
            margin: 0 auto 16px;
        }

        .login-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 8px;
            color: var(--dark-gray);
        }

        .login-subtitle {
            color: var(--medium-gray);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }

        .form-input {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid var(--light-gray);
            border-radius: var(--radius);
            font-size: 16px;
            transition: var(--transition);
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary-blue);
            box-shadow: 0 0 0 3px rgba(26, 86, 219, 0.1);
        }

        .login-footer {
            text-align: center;
            margin-top: 24px;
            color: var(--medium-gray);
            font-size: 14px;
        }

        /* Animation for notifications */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.3s ease-out;
        }
    </style>
</head>
<body>
    <!-- Login Page (Initial View) -->
    <div id="loginPage" class="login-container">
        <div class="login-card">
            <div class="login-header">
                <div class="login-logo">AA</div>
                <h1 class="login-title">AASTU Complaint System</h1>
                <p class="login-subtitle">Student Complaint Management Portal</p>
            </div>
            
            <div class="form-group">
                <label class="form-label">University Email</label>
                <input type="email" id="loginEmail" class="form-input" placeholder="username@aastu.edu.et" value="student@aastu.edu.et">
            </div>
            
            <div class="form-group">
                <label class="form-label">Password</label>
                <input type="password" id="loginPassword" class="form-input" placeholder="Enter your password" value="password123">
            </div>
            
            <div class="form-group">
                <label class="form-label">Login As</label>
                <select id="userRole" class="form-input">
                    <option value="student">Student</option>
                    <option value="staff">Staff / Assignee</option>
                    <option value="department-head">Department Head</option>
                    <option value="admin">Administrator</option>
                </select>
            </div>
            
            <button id="loginBtn" class="btn btn-primary" style="width: 100%; padding: 14px;">
                <i class="fas fa-sign-in-alt"></i> Sign In
            </button>
            
            <div class="login-footer">
                <p>Use your AASTU credentials to access the system</p>
            </div>
        </div>
    </div>

    <!-- Main Dashboard (Hidden Initially) -->
    <div id="dashboard" class="container" style="display: none;">
        <!-- Sidebar Navigation -->
        <div class="sidebar">
            <div class="sidebar-header">
                <div class="logo">AA</div>
                <div class="logo-text">AASTU CMS</div>
            </div>
            
            <div class="sidebar-nav">
                <a href="#" class="nav-item active" data-tab="dashboard-tab">
                    <i class="fas fa-home nav-icon"></i>
                    <span class="nav-text">Dashboard</span>
                </a>
                <a href="#" class="nav-item" data-tab="complaints-tab">
                    <i class="fas fa-list-alt nav-icon"></i>
                    <span class="nav-text">My Complaints</span>
                </a>
                <a href="#" class="nav-item" data-tab="new-complaint-tab">
                    <i class="fas fa-plus-circle nav-icon"></i>
                    <span class="nav-text">New Complaint</span>
                </a>
                <a href="#" class="nav-item" data-tab="analytics-tab">
                    <i class="fas fa-chart-bar nav-icon"></i>
                    <span class="nav-text">Analytics</span>
                </a>
                <a href="#" class="nav-item" data-tab="staff-tab">
                    <i class="fas fa-users nav-icon"></i>
                    <span class="nav-text">Staff View</span>
                </a>
                <a href="#" class="nav-item" data-tab="admin-tab">
                    <i class="fas fa-cog nav-icon"></i>
                    <span class="nav-text">Admin Panel</span>
                </a>
            </div>
            
            <div class="user-profile">
                <div class="user-avatar" id="userAvatar">JD</div>
                <div class="user-info">
                    <h4 id="userName">John Doe</h4>
                    <p id="userRoleText">Student</p>
                </div>
            </div>
        </div>
        
        <!-- Main Content Area -->
        <div class="main-content">
            <!-- Top Bar -->
            <div class="top-bar">
                <h1 class="page-title" id="pageTitle">Dashboard</h1>
                <div class="top-actions">
                    <div class="notification-badge">
                        <i class="fas fa-bell"></i>
                        <span class="badge-count">3</span>
                    </div>
                    <button id="logoutBtn" class="btn">
                        <i class="fas fa-sign-out-alt"></i> Logout
                    </button>
                </div>
            </div>
            
            <!-- Dashboard Content -->
            <div class="content">
                <!-- Dashboard Tab -->
                <div id="dashboard-tab" class="tab-content active">
                    <!-- Stats Cards -->
                    <div class="stats-container">
                        <div class="stat-card fade-in">
                            <div class="stat-header">
                                <h3 class="stat-title">New Complaints</h3>
                                <div class="stat-icon icon-new">
                                    <i class="fas fa-exclamation-circle"></i>
                                </div>
                            </div>
                            <div class="stat-value">5</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>12% from last month</span>
                            </div>
                        </div>
                        
                        <div class="stat-card fade-in">
                            <div class="stat-header">
                                <h3 class="stat-title">Active</h3>
                                <div class="stat-icon icon-active">
                                    <i class="fas fa-clock"></i>
                                </div>
                            </div>
                            <div class="stat-value">3</div>
                            <div class="stat-change negative">
                                <i class="fas fa-arrow-down"></i>
                                <span>5% from last month</span>
                            </div>
                        </div>
                        
                        <div class="stat-card fade-in">
                            <div class="stat-header">
                                <h3 class="stat-title">Pending</h3>
                                <div class="stat-icon icon-pending">
                                    <i class="fas fa-hourglass-half"></i>
                                </div>
                            </div>
                            <div class="stat-value">2</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>8% from last month</span>
                            </div>
                        </div>
                        
                        <div class="stat-card fade-in">
                            <div class="stat-header">
                                <h3 class="stat-title">Resolved</h3>
                                <div class="stat-icon icon-resolved">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                            </div>
                            <div class="stat-value">8</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>15% from last month</span>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Recent Complaints -->
                    <div class="section-header">
                        <h2 class="section-title">Recent Complaints</h2>
                        <button class="btn btn-primary" id="viewAllBtn">
                            <i class="fas fa-list"></i> View All
                        </button>
                    </div>
                    
                    <div class="complaints-container">
                        <!-- Complaint Card 1 -->
                        <div class="complaint-card" data-id="CM-2024-001">
                            <div class="complaint-header">
                                <span class="complaint-id">#CM-2024-001</span>
                                <span class="status-badge status-in-review">In Review</span>
                            </div>
                            <h3 class="complaint-title">Network Issue in Lab B3</h3>
                            <div class="complaint-meta">
                                <div class="meta-item">
                                    <i class="fas fa-layer-group"></i>
                                    <span>Computer Science</span>
                                </div>
                                <div class="meta-item">
                                    <i class="far fa-calendar"></i>
                                    <span>2 days ago</span>
                                </div>
                            </div>
                            <p>No internet connectivity in the computer lab B3 since Monday morning. Affecting online classes and project submissions.</p>
                            <div class="complaint-footer">
                                <span class="priority priority-high">High Priority</span>
                                <button class="btn">View Details</button>
                            </div>
                        </div>
                        
                        <!-- Complaint Card 2 -->
                        <div class="complaint-card" data-id="CM-2024-002">
                            <div class="complaint-header">
                                <span class="complaint-id">#CM-2024-002</span>
                                <span class="status-badge status-resolved">Resolved</span>
                            </div>
                            <h3 class="complaint-title">Late Grade Submission</h3>
                            <div class="complaint-meta">
                                <div class="meta-item">
                                    <i class="fas fa-layer-group"></i>
                                    <span>Academics</span>
                                </div>
                                <div class="meta-item">
                                    <i class="far fa-calendar"></i>
                                    <span>1 week ago</span>
                                </div>
                            </div>
                            <p>Professor hasn't submitted grades for Database Systems course, causing delay in transcript processing.</p>
                            <div class="complaint-footer">
                                <span class="priority priority-medium">Medium Priority</span>
                                <button class="btn">View Details</button>
                            </div>
                        </div>
                        
                        <!-- Complaint Card 3 -->
                        <div class="complaint-card" data-id="CM-2024-003">
                            <div class="complaint-header">
                                <span class="complaint-id">#CM-2024-003</span>
                                <span class="status-badge status-new">New</span>
                            </div>
                            <h3 class="complaint-title">Library AC Not Working</h3>
                            <div class="complaint-meta">
                                <div class="meta-item">
                                    <i class="fas fa-layer-group"></i>
                                    <span>Facilities</span>
                                </div>
                                <div class="meta-item">
                                    <i class="far fa-calendar"></i>
                                    <span>Today</span>
                                </div>
                            </div>
                            <p>Air conditioning system in the main library has been malfunctioning for 3 days, making it difficult to study.</p>
                            <div class="complaint-footer">
                                <span class="priority priority-medium">Medium Priority</span>
                                <button class="btn">View Details</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- My Complaints Tab -->
                <div id="complaints-tab" class="tab-content">
                    <div class="section-header">
                        <h2 class="section-title">My Complaint History</h2>
                        <div class="tab-nav">
                            <button class="tab-btn active" data-filter="all">All</button>
                            <button class="tab-btn" data-filter="new">New</button>
                            <button class="tab-btn" data-filter="in-review">In Review</button>
                            <button class="tab-btn" data-filter="resolved">Resolved</button>
                        </div>
                    </div>
                    
                    <div class="complaints-container" id="complaints-list">
                        <!-- Complaints will be filtered here -->
                    </div>
                </div>
                
                <!-- New Complaint Tab -->
                <div id="new-complaint-tab" class="tab-content">
                    <div class="section-header">
                        <h2 class="section-title">Submit New Complaint</h2>
                    </div>
                    
                    <div style="max-width: 700px; margin: 0 auto;">
                        <div class="form-group">
                            <label class="form-label">Complaint Title</label>
                            <input type="text" id="complaintTitle" class="form-input" placeholder="Brief description of the issue">
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Category</label>
                            <select id="complaintCategory" class="form-input">
                                <option value="">Select a category</option>
                                <option value="academics">Academics</option>
                                <option value="facilities">Facilities</option>
                                <option value="administration">Administration</option>
                                <option value="finance">Finance</option>
                                <option value="campus-life">Campus Life</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Department</label>
                            <select id="complaintDepartment" class="form-input">
                                <option value="">Select department</option>
                                <option value="computer-science">Computer Science</option>
                                <option value="engineering">Engineering</option>
                                <option value="business">Business</option>
                                <option value="ict">ICT Services</option>
                                <option value="facilities">Facilities Management</option>
                            </select>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Priority</label>
                            <div style="display: flex; gap: 20px;">
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="radio" name="priority" value="low">
                                    <span>Low</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="radio" name="priority" value="medium" checked>
                                    <span>Medium</span>
                                </label>
                                <label style="display: flex; align-items: center; gap: 8px;">
                                    <input type="radio" name="priority" value="high">
                                    <span>High</span>
                                </label>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Detailed Description</label>
                            <textarea id="complaintDescription" class="form-input" rows="5" placeholder="Please provide as much detail as possible about the issue..."></textarea>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Attach Evidence (Optional)</label>
                            <div style="border: 2px dashed var(--light-gray); border-radius: var(--radius); padding: 30px; text-align: center;">
                                <i class="fas fa-cloud-upload-alt" style="font-size: 48px; color: var(--medium-gray); margin-bottom: 16px;"></i>
                                <p>Drag and drop files here or <span style="color: var(--primary-blue); cursor: pointer;">browse</span></p>
                                <p style="font-size: 14px; color: var(--medium-gray);">Max file size: 10MB. Supported formats: PDF, JPG, PNG</p>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 12px; margin-top: 30px;">
                            <button id="submitComplaintBtn" class="btn btn-primary">
                                <i class="fas fa-paper-plane"></i> Submit Complaint
                            </button>
                            <button id="saveDraftBtn" class="btn">
                                <i class="far fa-save"></i> Save as Draft
                            </button>
                        </div>
                    </div>
                </div>
                
                <!-- Analytics Tab -->
                <div id="analytics-tab" class="tab-content">
                    <div class="section-header">
                        <h2 class="section-title">Analytics Dashboard</h2>
                        <div>
                            <select class="form-input" style="width: 200px;">
                                <option>Last 30 Days</option>
                                <option>Last 90 Days</option>
                                <option>This Year</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="stats-container">
                        <div class="stat-card">
                            <div class="stat-header">
                                <h3 class="stat-title">Avg. Resolution Time</h3>
                                <div class="stat-icon icon-resolved">
                                    <i class="fas fa-clock"></i>
                                </div>
                            </div>
                            <div class="stat-value">4.2 days</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-down"></i>
                                <span>Improved by 1.3 days</span>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-header">
                                <h3 class="stat-title">Satisfaction Rate</h3>
                                <div class="stat-icon icon-active">
                                    <i class="fas fa-smile"></i>
                                </div>
                            </div>
                            <div class="stat-value">87%</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>5% increase</span>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-header">
                                <h3 class="stat-title">Complaints This Month</h3>
                                <div class="stat-icon icon-new">
                                    <i class="fas fa-file-alt"></i>
                                </div>
                            </div>
                            <div class="stat-value">42</div>
                            <div class="stat-change negative">
                                <i class="fas fa-arrow-up"></i>
                                <span>12% increase</span>
                            </div>
                        </div>
                        
                        <div class="stat-card">
                            <div class="stat-header">
                                <h3 class="stat-title">SLA Compliance</h3>
                                <div class="stat-icon icon-pending">
                                    <i class="fas fa-check-circle"></i>
                                </div>
                            </div>
                            <div class="stat-value">94%</div>
                            <div class="stat-change positive">
                                <i class="fas fa-arrow-up"></i>
                                <span>3% increase</span>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: var(--white); border-radius: var(--radius); padding: 24px; box-shadow: var(--shadow); margin-top: 30px;">
                        <h3 style="margin-bottom: 20px;">Complaints by Category</h3>
                        <div style="display: flex; gap: 20px; flex-wrap: wrap;">
                            <div style="flex: 1; min-width: 250px;">
                                <div style="margin-bottom: 12px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                        <span>Academics</span>
                                        <span>45%</span>
                                    </div>
                                    <div style="height: 10px; background: var(--light-gray); border-radius: 5px; overflow: hidden;">
                                        <div style="width: 45%; height: 100%; background: var(--primary-blue);"></div>
                                    </div>
                                </div>
                                
                                <div style="margin-bottom: 12px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                        <span>Facilities</span>
                                        <span>30%</span>
                                    </div>
                                    <div style="height: 10px; background: var(--light-gray); border-radius: 5px; overflow: hidden;">
                                        <div style="width: 30%; height: 100%; background: var(--accent-yellow);"></div>
                                    </div>
                                </div>
                                
                                <div style="margin-bottom: 12px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                        <span>Administration</span>
                                        <span>15%</span>
                                    </div>
                                    <div style="height: 10px; background: var(--light-gray); border-radius: 5px; overflow: hidden;">
                                        <div style="width: 15%; height: 100%; background: var(--accent-green);"></div>
                                    </div>
                                </div>
                                
                                <div style="margin-bottom: 12px;">
                                    <div style="display: flex; justify-content: space-between; margin-bottom: 4px;">
                                        <span>Others</span>
                                        <span>10%</span>
                                    </div>
                                    <div style="height: 10px; background: var(--light-gray); border-radius: 5px; overflow: hidden;">
                                        <div style="width: 10%; height: 100%; background: var(--accent-red);"></div>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="flex: 1; min-width: 300px;">
                                <div style="text-align: center; padding: 20px;">
                                    <div style="width: 200px; height: 200px; border-radius: 50%; background: conic-gradient(var(--primary-blue) 0% 45%, var(--accent-yellow) 45% 75%, var(--accent-green) 75% 90%, var(--accent-red) 90% 100%); margin: 0 auto; position: relative;">
                                        <div style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100px; height: 100px; background: white; border-radius: 50%;"></div>
                                    </div>
                                    <div style="display: flex; justify-content: center; gap: 20px; margin-top: 20px; flex-wrap: wrap;">
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 12px; height: 12px; background: var(--primary-blue); border-radius: 2px;"></div>
                                            <span>Academics</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 12px; height: 12px; background: var(--accent-yellow); border-radius: 2px;"></div>
                                            <span>Facilities</span>
                                        </div>
                                        <div style="display: flex; align-items: center; gap: 8px;">
                                            <div style="width: 12px; height: 12px; background: var(--accent-green); border-radius: 2px;"></div>
                                            <span>Administration</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Staff View Tab -->
                <div id="staff-tab" class="tab-content">
                    <div class="section-header">
                        <h2 class="section-title">Staff Complaint Dashboard</h2>
                        <button class="btn btn-primary">
                            <i class="fas fa-download"></i> Export Report
                        </button>
                    </div>
                    
                    <div class="kanban-board">
                        <div class="kanban-column">
                            <div class="column-header">
                                <h3 class="column-title">To Do</h3>
                                <div class="column-count">3</div>
                            </div>
                            <div class="complaint-card">
                                <div class="complaint-header">
                                    <span class="complaint-id">#CM-2024-015</span>
                                    <span class="status-badge status-new">New</span>
                                </div>
                                <h3 class="complaint-title">Projector Not Working</h3>
                                <div class="complaint-meta">
                                    <div class="meta-item">
                                        <i class="far fa-clock"></i>
                                        <span>Due: Tomorrow</span>
                                    </div>
                                </div>
                                <div class="complaint-footer">
                                    <span class="priority priority-high">High</span>
                                    <button class="btn">Assign to Me</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="kanban-column">
                            <div class="column-header">
                                <h3 class="column-title">In Progress</h3>
                                <div class="column-count">2</div>
                            </div>
                            <div class="complaint-card">
                                <div class="complaint-header">
                                    <span class="complaint-id">#CM-2024-001</span>
                                    <span class="status-badge status-in-review">In Review</span>
                                </div>
                                <h3 class="complaint-title">Network Issue in Lab B3</h3>
                                <div class="complaint-meta">
                                    <div class="meta-item">
                                        <i class="far fa-clock"></i>
                                        <span>Due: 2 days</span>
                                    </div>
                                </div>
                                <div class="complaint-footer">
                                    <span class="priority priority-high">High</span>
                                    <button class="btn">Update</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="kanban-column">
                            <div class="column-header">
                                <h3 class="column-title">Resolved</h3>
                                <div class="column-count">5</div>
                            </div>
                            <div class="complaint-card">
                                <div class="complaint-header">
                                    <span class="complaint-id">#CM-2024-002</span>
                                    <span class="status-badge status-resolved">Resolved</span>
                                </div>
                                <h3 class="complaint-title">Late Grade Submission</h3>
                                <div class="complaint-meta">
                                    <div class="meta-item">
                                        <i class="far fa-calendar"></i>
                                        <span>1 week ago</span>
                                    </div>
                                </div>
                                <div class="complaint-footer">
                                    <span class="priority priority-medium">Medium</span>
                                    <button class="btn">View</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Admin Panel Tab -->
                <div id="admin-tab" class="tab-content">
                    <div class="section-header">
                        <h2 class="section-title">Administration Panel</h2>
                        <div class="tab-nav">
                            <button class="tab-btn active" data-admin-tab="users">Users</button>
                            <button class="tab-btn" data-admin-tab="categories">Categories</button>
                            <button class="tab-btn" data-admin-tab="workflow">Workflow</button>
                            <button class="tab-btn" data-admin-tab="settings">Settings</button>
                        </div>
                    </div>
                    
                    <div id="admin-users" class="admin-tab-content" style="display: block;">
                        <div style="background: var(--white); border-radius: var(--radius); padding: 24px; box-shadow: var(--shadow);">
                            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                                <h3>User Management</h3>
                                <button class="btn btn-primary">
                                    <i class="fas fa-user-plus"></i> Add New User
                                </button>
                            </div>
                            
                            <div style="overflow-x: auto;">
                                <table style="width: 100%; border-collapse: collapse;">
                                    <thead>
                                        <tr style="border-bottom: 2px solid var(--light-gray);">
                                            <th style="padding: 12px; text-align: left;">Name</th>
                                            <th style="padding: 12px; text-align: left;">Email</th>
                                            <th style="padding: 12px; text-align: left;">Role</th>
                                            <th style="padding: 12px; text-align: left;">Department</th>
                                            <th style="padding: 12px; text-align: left;">Actions</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr style="border-bottom: 1px solid var(--light-gray);">
                                            <td style="padding: 12px;">John Doe</td>
                                            <td style="padding: 12px;">john@aastu.edu.et</td>
                                            <td style="padding: 12px;"><span class="status-badge status-new" style="font-size: 12px;">Student</span></td>
                                            <td style="padding: 12px;">Computer Science</td>
                                            <td style="padding: 12px;">
                                                <button class="btn" style="padding: 4px 8px; font-size: 12px;">Edit</button>
                                            </td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid var(--light-gray);">
                                            <td style="padding: 12px;">Dr. Alemayehu</td>
                                            <td style="padding: 12px;">alema@aastu.edu.et</td>
                                            <td style="padding: 12px;"><span class="status-badge status-in-review" style="font-size: 12px;">Staff</span></td>
                                            <td style="padding: 12px;">ICT Services</td>
                                            <td style="padding: 12px;">
                                                <button class="btn" style="padding: 4px 8px; font-size: 12px;">Edit</button>
                                            </td>
                                        </tr>
                                        <tr style="border-bottom: 1px solid var(--light-gray);">
                                            <td style="padding: 12px;">Prof. Solomon</td>
                                            <td style="padding: 12px;">solomon@aastu.edu.et</td>
                                            <td style="padding: 12px;"><span class="status-badge status-resolved" style="font-size: 12px;">Dept. Head</span></td>
                                            <td style="padding: 12px;">Computer Science</td>
                                            <td style="padding: 12px;">
                                                <button class="btn" style="padding: 4px 8px; font-size: 12px;">Edit</button>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Complaint Detail Modal -->
    <div id="complaintModal" class="modal-overlay">
        <div class="modal">
            <div class="modal-header">
                <h2 class="modal-title">Complaint Details</h2>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <h3 id="modalComplaintTitle" style="margin-bottom: 16px;">Network Issue in Lab B3</h3>
                <div style="display: flex; gap: 12px; flex-wrap: wrap; margin-bottom: 24px;">
                    <span class="status-badge status-in-review">In Review</span>
                    <span class="priority priority-high">High Priority</span>
                    <span style="color: var(--medium-gray);">#CM-2024-001</span>
                </div>
                
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 24px;">
                    <div>
                        <h4 style="margin-bottom: 8px;">Category</h4>
                        <p>Facilities</p>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 8px;">Department</h4>
                        <p>Computer Science</p>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 8px;">Submitted</h4>
                        <p>April 10, 2024</p>
                    </div>
                    <div>
                        <h4 style="margin-bottom: 8px;">Assigned To</h4>
                        <p>Dr. Alemayehu</p>
                    </div>
                </div>
                
                <h4 style="margin-bottom: 12px;">Description</h4>
                <p id="modalComplaintDescription" style="background: var(--light-gray); padding: 16px; border-radius: var(--radius); margin-bottom: 24px;">
                    No internet connectivity in the computer lab B3 since Monday morning. This is affecting online classes and project submissions. All computers in the lab are unable to connect to the university network.
                </p>
                
                <h4 style="margin-bottom: 16px;">Timeline</h4>
                <div class="timeline">
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">April 10, 2024  10:30 AM</div>
                            <div class="timeline-text">Complaint submitted by student</div>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">April 11, 2024  9:15 AM</div>
                            <div class="timeline-text">Assigned to Dr. Alemayehu for investigation</div>
                        </div>
                    </div>
                    <div class="timeline-item">
                        <div class="timeline-dot"></div>
                        <div class="timeline-content">
                            <div class="timeline-date">April 12, 2024  2:45 PM</div>
                            <div class="timeline-text">Investigation in progress - ICT team notified</div>
                        </div>
                    </div>
                </div>
                
                <div style="margin-top: 24px;">
                    <h4 style="margin-bottom: 12px;">Add Update</h4>
                    <textarea class="form-input" rows="3" placeholder="Add an update or comment..."></textarea>
                    <div style="display: flex; gap: 12px; margin-top: 12px;">
                        <button class="btn btn-primary">Post Update</button>
                        <button class="btn">Mark as Resolved</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // DOM Elements
        const loginPage = document.getElementById('loginPage');
        const dashboard = document.getElementById('dashboard');
        const loginBtn = document.getElementById('loginBtn');
        const logoutBtn = document.getElementById('logoutBtn');
        const userRoleSelect = document.getElementById('userRole');
        const userName = document.getElementById('userName');
        const userRoleText = document.getElementById('userRoleText');
        const userAvatar = document.getElementById('userAvatar');
        const pageTitle = document.getElementById('pageTitle');
        const navItems = document.querySelectorAll('.nav-item');
        const tabContents = document.querySelectorAll('.tab-content');
        const complaintCards = document.querySelectorAll('.complaint-card');
        const complaintModal = document.getElementById('complaintModal');
        const closeModalBtn = document.querySelector('.close-modal');
        const modalOverlay = document.querySelector('.modal-overlay');
        const tabBtns = document.querySelectorAll('.tab-btn');
        const adminTabBtns = document.querySelectorAll('[data-admin-tab]');
        const submitComplaintBtn = document.getElementById('submitComplaintBtn');
        const viewAllBtn = document.getElementById('viewAllBtn');
        
        // Mock data for complaints
        const complaints = [
            {
                id: 'CM-2024-001',
                title: 'Network Issue in Lab B3',
                category: 'Facilities',
                department: 'Computer Science',
                status: 'in-review',
                priority: 'high',
                date: '2 days ago',
                description: 'No internet connectivity in the computer lab B3 since Monday morning. This is affecting online classes and project submissions.'
            },
            {
                id: 'CM-2024-002',
                title: 'Late Grade Submission',
                category: 'Academics',
                department: 'Computer Science',
                status: 'resolved',
                priority: 'medium',
                date: '1 week ago',
                description: 'Professor hasn\'t submitted grades for Database Systems course, causing delay in transcript processing.'
            },
            {
                id: 'CM-2024-003',
                title: 'Library AC Not Working',
                category: 'Facilities',
                department: 'Library',
                status: 'new',
                priority: 'medium',
                date: 'Today',
                description: 'Air conditioning system in the main library has been malfunctioning for 3 days, making it difficult to study.'
            },
            {
                id: 'CM-2024-004',
                title: 'Overdue Book Fine Dispute',
                category: 'Administration',
                department: 'Library',
                status: 'resolved',
                priority: 'low',
                date: '2 weeks ago',
                description: 'Charged for a book that was returned on time. Need clarification on the fine.'
            }
        ];
        
        // User data based on role
        const userData = {
            student: {
                name: 'John Doe',
                avatar: 'JD',
                tabs: ['dashboard-tab', 'complaints-tab', 'new-complaint-tab', 'analytics-tab']
            },
            staff: {
                name: 'Dr. Alemayehu',
                avatar: 'DA',
                tabs: ['dashboard-tab', 'staff-tab', 'analytics-tab']
            },
            'department-head': {
                name: 'Prof. Solomon',
                avatar: 'PS',
                tabs: ['dashboard-tab', 'staff-tab', 'analytics-tab', 'admin-tab']
            },
            admin: {
                name: 'Admin User',
                avatar: 'AU',
                tabs: ['dashboard-tab', 'analytics-tab', 'admin-tab']
            }
        };
        
        // Login Function
        loginBtn.addEventListener('click', function() {
            const selectedRole = userRoleSelect.value;
            const user = userData[selectedRole];
            
            // Update user info
            userName.textContent = user.name;
            userRoleText.textContent = selectedRole.charAt(0).toUpperCase() + selectedRole.slice(1);
            userAvatar.textContent = user.avatar;
            
            // Show/hide tabs based on role
            document.querySelectorAll('.nav-item').forEach(navItem => {
                const tab = navItem.getAttribute('data-tab');
                if (user.tabs.includes(tab)) {
                    navItem.style.display = 'flex';
                } else {
                    navItem.style.display = 'none';
                }
            });
            
            // Switch to dashboard
            loginPage.style.display = 'none';
            dashboard.style.display = 'flex';
            
            // Show notification
            showNotification('Login successful! Welcome to AASTU Complaint Management System.');
        });
        
        // Logout Function
        logoutBtn.addEventListener('click', function() {
            dashboard.style.display = 'none';
            loginPage.style.display = 'flex';
            showNotification('You have been logged out successfully.');
        });
        
        // Navigation between tabs
        navItems.forEach(item => {
            item.addEventListener('click', function(e) {
                e.preventDefault();
                
                // Update active nav item
                navItems.forEach(nav => nav.classList.remove('active'));
                this.classList.add('active');
                
                // Get target tab
                const targetTab = this.getAttribute('data-tab');
                
                // Update page title
                const tabNames = {
                    'dashboard-tab': 'Dashboard',
                    'complaints-tab': 'My Complaints',
                    'new-complaint-tab': 'New Complaint',
                    'analytics-tab': 'Analytics',
                    'staff-tab': 'Staff Dashboard',
                    'admin-tab': 'Admin Panel'
                };
                pageTitle.textContent = tabNames[targetTab] || 'Dashboard';
                
                // Show target tab content
                tabContents.forEach(content => content.classList.remove('active'));
                document.getElementById(targetTab).classList.add('active');
                
                // Load complaints list if on complaints tab
                if (targetTab === 'complaints-tab') {
                    loadComplaintsList('all');
                }
            });
        });
        
        // Filter complaints by status
        function loadComplaintsList(filter) {
            const complaintsList = document.getElementById('complaints-list');
            complaintsList.innerHTML = '';
            
            const filteredComplaints = filter === 'all' 
                ? complaints 
                : complaints.filter(complaint => complaint.status === filter);
            
            if (filteredComplaints.length === 0) {
                complaintsList.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 40px; background: var(--white); border-radius: var(--radius);">
                        <i class="fas fa-inbox" style="font-size: 48px; color: var(--medium-gray); margin-bottom: 16px;"></i>
                        <h3>No complaints found</h3>
                        <p>There are no complaints matching your filter criteria.</p>
                    </div>
                `;
                return;
            }
            
            filteredComplaints.forEach(complaint => {
                const statusClass = `status-${complaint.status}`;
                const priorityClass = `priority-${complaint.priority}`;
                
                const complaintCard = document.createElement('div');
                complaintCard.className = 'complaint-card';
                complaintCard.setAttribute('data-id', complaint.id);
                complaintCard.innerHTML = `
                    <div class="complaint-header">
                        <span class="complaint-id">#${complaint.id}</span>
                        <span class="status-badge ${statusClass}">${complaint.status.replace('-', ' ')}</span>
                    </div>
                    <h3 class="complaint-title">${complaint.title}</h3>
                    <div class="complaint-meta">
                        <div class="meta-item">
                            <i class="fas fa-layer-group"></i>
                            <span>${complaint.category}</span>
                        </div>
                        <div class="meta-item">
                            <i class="far fa-calendar"></i>
                            <span>${complaint.date}</span>
                        </div>
                    </div>
                    <p>${complaint.description}</p>
                    <div class="complaint-footer">
                        <span class="priority ${priorityClass}">${complaint.priority} Priority</span>
                        <button class="btn view-details-btn">View Details</button>
                    </div>
                `;
                
                complaintsList.appendChild(complaintCard);
                
                // Add event listener to the new button
                complaintCard.querySelector('.view-details-btn').addEventListener('click', function() {
                    openComplaintModal(complaint);
                });
            });
        }
        
        // Tab filter buttons for complaints
        tabBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                // Update active tab button
                tabBtns.forEach(tabBtn => tabBtn.classList.remove('active'));
                this.classList.add('active');
                
                // Filter complaints
                const filter = this.getAttribute('data-filter');
                loadComplaintsList(filter);
            });
        });
        
        // Admin tab buttons
        adminTabBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                // Update active admin tab button
                adminTabBtns.forEach(tabBtn => tabBtn.classList.remove('active'));
                this.classList.add('active');
                
                // Show corresponding admin tab content
                const tabId = this.getAttribute('data-admin-tab');
                document.querySelectorAll('.admin-tab-content').forEach(content => {
                    content.style.display = 'none';
                });
                document.getElementById(`admin-${tabId}`).style.display = 'block';
            });
        });
        
        // Open complaint modal
        function openComplaintModal(complaint) {
            document.getElementById('modalComplaintTitle').textContent = complaint.title;
            document.getElementById('modalComplaintDescription').textContent = complaint.description;
            complaintModal.style.display = 'flex';
            document.body.style.overflow = 'hidden';
        }
        
        // Close modal
        closeModalBtn.addEventListener('click', closeModal);
        modalOverlay.addEventListener('click', function(e) {
            if (e.target === modalOverlay) {
                closeModal();
            }
        });
        
        function closeModal() {
            complaintModal.style.display = 'none';
            document.body.style.overflow = 'auto';
        }
        
        // Open modal when clicking on complaint cards
        complaintCards.forEach(card => {
            card.addEventListener('click', function(e) {
                if (!e.target.classList.contains('btn')) {
                    const complaintId = this.getAttribute('data-id');
                    const complaint = complaints.find(c => c.id === complaintId);
                    if (complaint) {
                        openComplaintModal(complaint);
                    }
                }
            });
            
            // Add event listener to the button inside
            const btn = card.querySelector('.btn');
            if (btn) {
                btn.addEventListener('click', function(e) {
                    e.stopPropagation();
                    const card = this.closest('.complaint-card');
                    const complaintId = card.getAttribute('data-id');
                    const complaint = complaints.find(c => c.id === complaintId);
                    if (complaint) {
                        openComplaintModal(complaint);
                    }
                });
            }
        });
        
        // Submit new complaint
        submitComplaintBtn.addEventListener('click', function() {
            const title = document.getElementById('complaintTitle').value;
            const category = document.getElementById('complaintCategory').value;
            const department = document.getElementById('complaintDepartment').value;
            const description = document.getElementById('complaintDescription').value;
            const priority = document.querySelector('input[name="priority"]:checked').value;
            
            if (!title || !category || !department || !description) {
                showNotification('Please fill in all required fields.', 'error');
                return;
            }
            
            // Create new complaint object
            const newComplaint = {
                id: `CM-2024-${String(complaints.length + 1).padStart(3, '0')}`,
                title: title,
                category: category,
                department: department,
                status: 'new',
                priority: priority,
                date: 'Just now',
                description: description
            };
            
            // Add to complaints array
            complaints.unshift(newComplaint);
            
            // Reset form
            document.getElementById('complaintTitle').value = '';
            document.getElementById('complaintCategory').value = '';
            document.getElementById('complaintDepartment').value = '';
            document.getElementById('complaintDescription').value = '';
            document.querySelector('input[name="priority"][value="medium"]').checked = true;
            
            // Show success message
            showNotification(`Complaint submitted successfully! Your tracking ID is ${newComplaint.id}.`, 'success');
            
            // Switch to complaints tab
            document.querySelector('.nav-item[data-tab="complaints-tab"]').click();
        });
        
        // View all complaints
        viewAllBtn.addEventListener('click', function() {
            document.querySelector('.nav-item[data-tab="complaints-tab"]').click();
        });
        
        // Notification function
        function showNotification(message, type = 'success') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `fade-in`;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: ${type === 'error' ? 'var(--accent-red)' : 'var(--accent-green)'};
                color: white;
                padding: 16px 24px;
                border-radius: var(--radius);
                box-shadow: var(--shadow);
                z-index: 10000;
                display: flex;
                align-items: center;
                gap: 12px;
                max-width: 400px;
            `;
            
            notification.innerHTML = `
                <i class="fas fa-${type === 'error' ? 'exclamation-triangle' : 'check-circle'}"></i>
                <span>${message}</span>
            `;
            
            document.body.appendChild(notification);
            
            // Remove notification after 5 seconds
            setTimeout(() => {
                notification.style.opacity = '0';
                notification.style.transform = 'translateX(100px)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 5000);
        }
        
        // Initialize complaints list
        loadComplaintsList('all');
        
        // Add animation to stats cards on load
        document.addEventListener('DOMContentLoaded', function() {
            const statCards = document.querySelectorAll('.stat-card');
            statCards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
            });
        });
        
        // Responsive sidebar toggle for mobile
        window.addEventListener('resize', function() {
            if (window.innerWidth <= 768) {
                document.querySelector('.sidebar').style.flexDirection = 'row';
            } else {
                document.querySelector('.sidebar').style.flexDirection = 'column';
            }
        });
    </script>
</body>
</html>
